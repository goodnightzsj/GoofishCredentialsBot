<header class="topbar glass-effect" [class.sidebar-collapsed]="sidebarCollapsed()">
    <div class="topbar-content">
        <h1 class="topbar-title">{{ title() }}</h1>
        <div class="topbar-status">
            <!-- Theme Switcher -->
            <!-- Theme Switcher -->
            <button class="theme-toggle-btn" (click)="toggleTheme()" [title]="'当前主题: ' + (themeService.themeMode())">
                <!-- Sun Icon (Light) -->
                <div class="theme-icon" 
                     [class.active]="themeService.themeMode() === 'light'"
                     [class.slide-out-top]="themeService.themeMode() === 'dark'"
                     [class.slide-out-bottom]="themeService.themeMode() === 'system'">
                    <lucide-icon [img]="icons.Sun" class="w-5 h-5 text-warning"></lucide-icon>
                </div>
                
                <!-- Moon Icon (Dark) -->
                <div class="theme-icon" 
                     [class.active]="themeService.themeMode() === 'dark'"
                     [class.slide-out-top]="themeService.themeMode() === 'system'"
                     [class.slide-out-bottom]="themeService.themeMode() === 'light'">
                    <lucide-icon [img]="icons.Moon" class="w-5 h-5 text-primary"></lucide-icon>
                </div>

                <!-- Monitor Icon (System) -->
                <div class="theme-icon" 
                     [class.active]="themeService.themeMode() === 'system'"
                     [class.slide-out-top]="themeService.themeMode() === 'light'"
                     [class.slide-out-bottom]="themeService.themeMode() === 'dark'">
                    <lucide-icon [img]="icons.Monitor" class="w-5 h-5"></lucide-icon>
                </div>
            </button>

            <div class="status-item">
                <lucide-icon [img]="icons.Wifi" class="status-icon text-success"></lucide-icon>
                <span>在线: <span class="text-success font-medium">{{ activeCount() }}</span></span>
            </div>
            <div class="status-item">
                <lucide-icon [img]="icons.MessageSquare" class="status-icon text-info"></lucide-icon>
                <span>消息: <span class="text-info font-medium">{{ messageCount() }}</span></span>
            </div>
        </div>
    </div>
</header>